alter table FileAttributes drop constraint FK228E9C13CEF20497;
alter table FileTags drop constraint FKD802E3D5D250CC02;
alter table FileTags drop constraint FKD802E3D5CEF20497;
alter table MediaFile drop constraint FKF70067601AE97E1B;
alter table Tag drop constraint FK1477A11CC1112;
drop table FileAttributes if exists;
drop table FileTags if exists;
drop table MediaFile if exists;
drop table Tag if exists;
drop table alexa.File if exists;
create table FileAttributes (id integer generated by default as identity, name varchar(255), value varchar(4096), fileId varchar(128), primary key (id));
create table FileTags (fileId varchar(128) not null, tagId integer not null);
create table MediaFile (audioBitrate integer, audioCodec varchar(64), duration integer, hasAudio boolean, hasVideo boolean, height integer, thumbnail binary(255), videoBitrate integer, videoCodec varchar(64), width integer, id varchar(128) not null, primary key (id));
create table Tag (id integer not null, description varchar(255), name varchar(255), parentId integer, primary key (id));
create table alexa.File (id varchar(128) not null, createDate timestamp, extension varchar(12), modifyDate timestamp, size bigint, type varchar(255), primary key (id));
alter table FileAttributes add constraint FK228E9C13CEF20497 foreign key (fileId) references alexa.File;
alter table FileTags add constraint FKD802E3D5D250CC02 foreign key (tagId) references Tag;
alter table FileTags add constraint FKD802E3D5CEF20497 foreign key (fileId) references alexa.File;
alter table MediaFile add constraint FKF70067601AE97E1B foreign key (id) references alexa.File;
alter table Tag add constraint FK1477A11CC1112 foreign key (parentId) references Tag;
